---
title: nodejs开发微信公众号介绍
date: 2017-01-10 16:32:43
tags: node wechat
---

公众号开发需要与公众号后台有交互，需要在后台网页进行配置，比如通信的域名地址，js sdk的授权地址等等。
sdk （软件开发工具包）：外语全称：Software Development Kit,通俗一点的理解，是指由第三方服务商提供的实现软件产品某项功能的工具包。一般以集合api和文档、范例、工具的形式出现.

这个Nodejs项目会用到不少框架或者模块，并没有100%用es6的规范来开发，而是混用了一些es6的特性，比如yield

项目的web层使用的框架是KOA，主要用来处理服务器之间的应用初始化、接口调用以及数据的响应。
Promise尽管在高版本Nodejs里面已经原生提供，我们还是用到了一个Promise库，就是bluebird,用来处理和封装异步请求。
网络请求我们使用的request，它是对原生的http request的封装

微信的数据包装方式是xml，所以我们借助ejs这个模板库，把数据作为变量替换到xml字符中

还有一些工具模块，比如lodash是一些常用的方法集，做数组拆分，类型判断等等，Heredoc是一个黑科技，把函数体里面的多行的注释作为字符串提取出来，主要用来降低拼接字符串的成本。

raw-body用来获取一个http请求返回的可读流的内容实体。对于加密我们选用sha1这个哈希算法库。

微信服务器返回的数据既然是xml格式的，我们就没法直接在js函数中使用，所以会借助xml2js这个模块把xml数据解析为js对象，方便我们使用。

小难点：1.微信公众号的配置接入流程 2.wechat加密认证环节 3.票据access_token.

需要具备的基础：1、能利用nodejs开发一些常用网页或者爬虫工具，来对nodejs api和它的技术特点有一定的认识。2.有些其他的后端语言经验，比如：java,php等，主要弄明白一个网络http请求从开始到结束中间所经过的这些环节。
前五天针对微信常用接口进行一个一个的单独讲解和实现，并且有许多的小案例来演示。后两天开发电影公众号的这个网站项目。

为了让本地调试环境与微信远端服务器之间进行通信，我们要用到网络代理工具，我们可以借助QQ浏览器，也可以用ngrok.