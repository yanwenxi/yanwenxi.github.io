<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>闫文喜的个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="闫文喜，闫文喜的个人博客，web前端博客，前端博客">
<meta property="og:type" content="website">
<meta property="og:title" content="闫文喜的个人博客">
<meta property="og:url" content="http://yanwenxi.github.io/page/5/index.html">
<meta property="og:site_name" content="闫文喜的个人博客">
<meta property="og:description" content="闫文喜，闫文喜的个人博客，web前端博客，前端博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="闫文喜的个人博客">
<meta name="twitter:description" content="闫文喜，闫文喜的个人博客，web前端博客，前端博客">
  
    <link rel="alternative" href="/atom.xml" title="闫文喜的个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">Wenxi Yan</a></h1>
        </hgroup>

        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/Home">我的小窝</a></li>
                        
                            <li><a href="/archives">文章列表</a></li>
                        
                            <li><a href="/">博客首页</a></li>
                        
                            <li><a href="/about">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=ywx_software@foxmail.com" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/yanwenxi" title="github">github</a>
                            
                                <a class="fl QQ" target="_blank" href="http://www.webywx.com" title="QQ">QQ</a>
                            
                                <a class="fl wechat" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=ywx_software@foxmail.com" title="wechat">wechat</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/ES6、promise/" style="font-size: 10px;">ES6、promise</a> <a href="/tags/H5、bug/" style="font-size: 10px;">H5、bug</a> <a href="/tags/JS设计模式-设计模式/" style="font-size: 10px;">JS设计模式 设计模式</a> <a href="/tags/Jenkins-CI/" style="font-size: 10px;">Jenkins CI</a> <a href="/tags/angular/" style="font-size: 10px;">angular</a> <a href="/tags/angular-http-q-promise/" style="font-size: 10px;">angular $http $q promise</a> <a href="/tags/angular-q-promise/" style="font-size: 10px;">angular $q promise</a> <a href="/tags/angular-decorator/" style="font-size: 10px;">angular decorator</a> <a href="/tags/angular-filter/" style="font-size: 10px;">angular filter</a> <a href="/tags/angular-服务/" style="font-size: 10px;">angular 服务</a> <a href="/tags/angular、-http/" style="font-size: 10px;">angular、$http</a> <a href="/tags/angular、Karma/" style="font-size: 10px;">angular、Karma</a> <a href="/tags/angular、directive/" style="font-size: 10px;">angular、directive</a> <a href="/tags/angular、html5/" style="font-size: 10px;">angular、html5</a> <a href="/tags/angular、module、controller/" style="font-size: 10px;">angular、module、controller</a> <a href="/tags/angular、promise、-q、deferred/" style="font-size: 10px;">angular、promise、$q、deferred</a> <a href="/tags/angular、router/" style="font-size: 10px;">angular、router</a> <a href="/tags/angular、ui-router/" style="font-size: 10px;">angular、ui-router</a> <a href="/tags/angular、表达式、filter/" style="font-size: 10px;">angular、表达式、filter</a> <a href="/tags/app-跨平台/" style="font-size: 10px;">app,跨平台</a> <a href="/tags/blockchain/" style="font-size: 10px;">blockchain</a> <a href="/tags/es5-js/" style="font-size: 10px;">es5 js</a> <a href="/tags/git-github/" style="font-size: 10px;">git github</a> <a href="/tags/iframe/" style="font-size: 10px;">iframe</a> <a href="/tags/javascript、object-oriented、继承/" style="font-size: 10px;">javascript、object-oriented、继承</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/js-Array/" style="font-size: 10px;">js Array</a> <a href="/tags/js-sea-js-模块化/" style="font-size: 10px;">js sea.js 模块化</a> <a href="/tags/js、变态题/" style="font-size: 10px;">js、变态题</a> <a href="/tags/js、设计模式/" style="font-size: 10px;">js、设计模式</a> <a href="/tags/js、跨域、document-domain/" style="font-size: 10px;">js、跨域、document.domain</a> <a href="/tags/js模块化、AMD、CMD、CommonJs/" style="font-size: 10px;">js模块化、AMD、CMD、CommonJs</a> <a href="/tags/js继承/" style="font-size: 10px;">js继承</a> <a href="/tags/life、意念/" style="font-size: 10px;">life、意念</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/mongoDB-数据库/" style="font-size: 10px;">mongoDB 数据库</a> <a href="/tags/mvp/" style="font-size: 10px;">mvp</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/rap/" style="font-size: 20px;">rap</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/react-ant-design/" style="font-size: 10px;">react ant-design</a> <a href="/tags/web、前端/" style="font-size: 10px;">web、前端</a> <a href="/tags/web、性能优化/" style="font-size: 10px;">web、性能优化</a> <a href="/tags/win10、linux/" style="font-size: 10px;">win10、linux</a> <a href="/tags/window-history-html5/" style="font-size: 10px;">window.history html5</a> <a href="/tags/人生/" style="font-size: 10px;">人生</a> <a href="/tags/前后端分享/" style="font-size: 10px;">前后端分享</a> <a href="/tags/前端脚手架/" style="font-size: 10px;">前端脚手架</a> <a href="/tags/生活/" style="font-size: 15px;">生活</a> <a href="/tags/移动端、fixed/" style="font-size: 10px;">移动端、fixed</a> <a href="/tags/解构赋值-es6/" style="font-size: 10px;">解构赋值 es6</a> <a href="/tags/跨域、postMessage、html5/" style="font-size: 10px;">跨域、postMessage、html5</a> <a href="/tags/路由-html5/" style="font-size: 10px;">路由 html5</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.webywx.com">前端小站</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://ywxi.github.io/">web博客</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">运动健身、网络营销、web前端、喜欢接触新鲜事物、迎接新的挑战</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Wenxi Yan</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">Wenxi Yan</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/Home">我的小窝</a></li>
                
                    <li><a href="/archives">文章列表</a></li>
                
                    <li><a href="/">博客首页</a></li>
                
                    <li><a href="/about">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=ywx_software@foxmail.com" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/yanwenxi" title="github">github</a>
                    
                        <a class="QQ" target="_blank" href="http://www.webywx.com" title="QQ">QQ</a>
                    
                        <a class="wechat" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=ywx_software@foxmail.com" title="wechat">wechat</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-angular-guide8-9章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/13/angular-guide8-9章/" class="article-date">
      <time datetime="2016-05-13T13:09:01.000Z" itemprop="datePublished">2016-05-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/13/angular-guide8-9章/">Angular权威指南学习（第8到9章）指令</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h4><p>指令本质上就是AngularJS扩展具有自定义功能的HTML元素的途径。例如，我们可以创建一个自定义元素，它实现了<code>&lt;video&gt;</code>标签的功能并且能在所有浏览器中工作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;my-better-video my-href=&quot;/goofy-video.mp4&quot;&gt;</div><div class="line">Caneventaketext&lt;/my-better-video&gt;</div></pre></td></tr></table></figure>
<p>内置指令是打包在AngularJS内部的指令。所有内置指令的命名空间都使用ng作为前缀。为了防止命名空间冲突，不要在自定义指令前加ng前缀。</p>
<ul>
<li><p>第一个自定义指令<br>通过AngularJS模块API中的.directive()方法，我们可以通过传入一个字符串和一个函数来注册一个新指令。其中字符串是这个指令的名字，指令名应该是驼峰命名风格的，函数应该返回一个对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;my-directive&gt;&lt;/my-directive&gt;</div><div class="line">angular.module(&apos;myApp&apos;,[])</div><div class="line">.directive(&apos;myDirective&apos;, function() &#123;</div><div class="line">return &#123;</div><div class="line">restrict: &apos;E&apos;,</div><div class="line">replace: true,//生成的代码中不含&lt;my-directive&gt;&lt;/my-directive&gt;</div><div class="line">template: &apos;&lt;a href=&quot;http://webywx.com&quot;&gt;</div><div class="line">Click me to go to webywx&lt;/a&gt;&apos;</div><div class="line">&#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>注：在我们的例子中，在HTML里使用my-directive声明指令，因此指令定义必须以myDirective为名字（驼峰命名法）。</p>
</li>
</ul>
<p>####声明指令本质上是在HTML中通过元素、属性、类或注释来添加功能。<br>   为了让AngularJS能够调用我们的指令，需要修改指令定义中的restrict设置。这个设置告诉AngularJS在编译HTML时用哪种声明格式来匹配指令定义。我们可以指定一个或多个格式。创建的指令中可以指定以元素（E）、属性（A）、类（C）或注释（M）的格式来调用指令，例：restrict: ‘EAC’。<br>   无论有多少种方式可以声明指令，我们坚持使用属性方式，因为它有比较好的跨浏览器兼容性：<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div my-directive&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>   声明指令时既可以使用表达式，也可以不使用表达式。下面是几种合法的表达式声明：<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;my-directive=&quot;someExpression&quot;&gt;</div><div class="line">&lt;/my-directive&gt;</div><div class="line">&lt;div my-directive=&quot;someExpression&quot;&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div class=&quot;my-directive:someExpression&quot;&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;!-- directive: my-directive someExpression --&gt;</div></pre></td></tr></table></figure></p>
<p>   为了更加明确我们的意图，将restrict设置为字母A（代表attribute）：<br>   restrict: ‘A<br>   遵循这个约定的同时，也要注意每个浏览器的内置样式，以便决定指令模板在HTML中是嵌套在声明元素内，还是替换声明元素。<br>   值得注意的一个例外是，扩展内置HTML标签，例如用AngularJS重载<code>&lt;a&gt;</code>、<code>&lt;form&gt;</code>和<code>&lt;input&gt;</code>。这些场景不会导致浏览器的兼容性问题，因为它们本身就是浏览器所支持的标签。好的经验法则就是始终用属性来声明指令，这样会给以后带来方便。<br>   注意，所有以ng前缀开头作为命名空间的指令都是AngularJS提供的内置指令，因此不要把你自己开发的指令以这个前缀命名。</p>
<ol>
<li><p>ng-disabled<br>使用ng-disabled可以把disabled属性绑定到以下表单输入字段上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> &lt;input&gt; （text、 checkbox、 radio、 number、 url, email、 submit）；</div><div class="line"> &lt;textarea&gt;；</div><div class="line"> &lt;select&gt;；</div><div class="line"> &lt;button&gt;。</div></pre></td></tr></table></figure>
<p>当写普通的HTML输入字段时，如果在元素标签上出现了disabled属性就会禁用这个输入字段。通过ng-disabled可以对是否出现属性进行绑定。例如，在下面的例子中按钮会一直禁用， 直到用户在文本字段中输入内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; ng-model=&quot;someProperty&quot; placeholder=&quot;TypetoEnable&quot;&gt;</div><div class="line">&lt;button ng-model=&quot;button&quot; ng-disabled=&quot;!someProperty&quot;&gt;AButton&lt;/button&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ng-readonly<br>同其他布尔属性一样， HTML定义只会检查readonly属性是否出现，而不是它的实际值。<br>通过ng-readonly可以将某个返回真或假的表达式同是否出现readonly属性进行绑定：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Type here to make sibling readonly:</div><div class="line">&lt;input type=&quot;text&quot; ng-model=&quot;someProperty&quot;&gt;&lt;br/&gt;</div><div class="line">&lt;input type=&quot;text&quot;</div><div class="line">ng-readonly=&quot;someProperty&quot;</div><div class="line">value=&quot;Some text here&quot;/&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ng-checked</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">默认情况下会把复选框勾选：</div><div class="line">&lt;label&gt;someProperty = &#123;&#123;someProperty&#125;&#125;&lt;/label&gt;</div><div class="line">&lt;input type=&quot;checkbox&quot;</div><div class="line">ng-checked=&quot;someProperty&quot;</div><div class="line">ng-init=&quot;someProperty = true&quot;</div><div class="line">ng-model=&quot;someProperty&quot;&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ng-selected<br>ng-selected可以对是否出现option标签的selected属性进行绑定：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;label&gt;Select Two Fish:&lt;/label&gt;</div><div class="line">&lt;input type=&quot;checkbox&quot;</div><div class="line">ng-model=&quot;isTwoFish&quot;&gt;&lt;br/&gt;</div><div class="line">&lt;select&gt;</div><div class="line">&lt;option&gt;One Fish&lt;/option&gt;</div><div class="line">&lt;option ng-selected=&quot;isTwoFish&quot;&gt;Two Fish&lt;/option&gt;</div><div class="line">&lt;/select&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ng-href<br>当使用当前作用域中的属性动态创建URL时，应该用ng-href代替href（用href会404）</p>
</li>
<li>ng-src<br>AngularJS会告诉浏览器在ng-src对应的表达式生效之前不要加载图像(用src会找不到图片)</li>
<li><p>ng-app<br>任何具有ng-app属性的DOM元素将被标记为$rootScope的起始点。<br>$rootScope是作用域链的起始点，任何嵌套在ng-app内的指令都会继承它。<br>在JavaScript代码中通过run方法来访问$rootScope。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;html ng-app=&quot;myApp&quot;&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&#123;&#123; someProperty &#125;&#125;</div><div class="line">&lt;button ng-click=&quot;someAction()&quot;&gt;&lt;/button&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">angular.module(&apos;myApp&apos;, [])</div><div class="line">.run(function($rootScope) &#123;</div><div class="line">$rootScope.someProperty = &apos;hello computer&apos;;</div><div class="line">$rootScope.someAction = function() &#123;</div><div class="line">$rootScope.someProperty = &apos;hello human&apos;;</div><div class="line">&#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>这里为了演示方便，像使用全局作用域一样使用$rootScope，实际生产中不建议这样做。</p>
</li>
<li>ng-controller<br>内置指令ng-controller的作用是为嵌套在其中的指令创建一个子作用域，避免将所有操作和模型都定义在$rootScope上。用这个指令可以在一个DOM元素上放置控制器。</li>
<li>ng-include<br>使用ng-include可以加载、编译并包含外部HTML片段到当前的应用中。模板的URL被限制<br>在与应用文档相同的域和协议下，可以通过白名单或包装成被信任的值来突破限制。更进一步，<br>需要考虑跨域资源共享（Cross-Origin Resource Sharing， CORS）和同源规则（Same Origin Policy）<br>来确保模板可以在任何浏览器中正常加载。例如，所有浏览器都不能进行跨域的请求，部分浏览<br>器也不能访问file://协议的资源。</li>
<li><p>ng-switch<br>这个指令和ng-switch-when及on=”propertyName”一起使用，可以在propertyName发生变<br>化时渲染不同指令到视图中。在下面的例子中，当person.name是Ari时，文本域下面的div会显<br>示出来，并且这个人会获得胜利：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; ng-model=&quot;person.name&quot;/&gt;</div><div class="line">&lt;div ng-switch on=&quot;person.name&quot;&gt;</div><div class="line">&lt;p ng-switch-default&gt;And the winner is&lt;/p&gt;</div><div class="line">&lt;h1 ng-switch-when=&quot;Ari&quot;&gt;&#123;&#123; person.name &#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>注意，在switch被调用之前我们用ng-switch-default来输出默认值。</p>
</li>
<li>ng-view<br>ng-view指令用来设置将被路由管理和放置在HTML中的视图的位置。</li>
<li>ng-if<br>使用ng-if指令可以完全根据表达式的值在DOM中生成或移除一个元素。如果赋值给ng-if的表达式的值是false，那对应的元素将会从DOM中移除，否则对应元素的一个克隆将被重新插入DOM中。<br>ng-if同no-show和ng-hide指令最本质的区别是，它不是通过CSS显示或隐藏DOM节点，而是真正生成或移除节点.</li>
<li><p>ng-repeat<br>ng-repeat用来遍历一个集合或为集合中的每个元素生成一个模板实例。集合中的每个元素都会被赋予自己的模板和作用域。同时每个模板实例的作用域中都会暴露一些特殊的属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> $index：遍历的进度（0...length-1）。</div><div class="line"> $first：当元素是遍历的第一个时值为true。</div><div class="line"> $middle：当元素处于第一个和最后元素之间时值为true。</div><div class="line"> $last：当元素是遍历的最后一个时值为true。</div><div class="line"> $even：当$index值是偶数时值为true。</div><div class="line"> $odd：当$index值是奇数时值为true。</div></pre></td></tr></table></figure>
<ol>
<li>ng-bind<br>尽管可以在视图中使用{ { } }模板语法（AngularJS内置的方式），我们也可以通过ng-bind指令实现同样的行为。<br>HTML加载含有{ { } }语法的元素后并不会立刻渲染它们，导致未渲染内容闪烁（Flash of Unrendered Content， FOUC）。我可以用ng-bind将内容同元素绑定在一起避免FOUC。内容会被当作子文本节点渲染到含有ng-bind指令的元素内。</li>
<li>ng-cloak<br>除使用ng-bind来避免未渲染元素闪烁，还可以在含有{ { } }的元素上使用ng-cloak指令：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;body ng-init=&quot;greeting=&apos;HelloWorld&apos;&quot;&gt;</div><div class="line">&lt;p ng-cloak&gt;&#123;&#123; greeting &#125;&#125;&lt;/p&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>ng-cloak指令会将内部元素隐藏，直到路由调用对应的页面时才显示出来。</p>
<ol>
<li><p>ng-bind-template<br>同ng-bind指令类似， ng-bind-template用来在视图中绑定多个表达式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div</div><div class="line">ng-bind-template=&quot;&#123;&#123;message&#125;&#125;&#123;&#123;name&#125;&#125;&quot;&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ng-model<br>ng-model指令用来将input、 select、 text area或自定义表单控件同包含它们的作用域中的属性进行绑定。它可以提供并处理表单验证功能，在元素上设置相关的CSS类（ng-valid、ng-invalid等），并负责在父表单中注册控件。<br>它将当前作用域中运算表达式的值同给定的元素进行绑定。如果属性并不存在，它会隐式创建并将其添加到当前作用域中。我们应该始终用ngModel来绑定$scope上一个数据模型内的属性，而不是$scope上的属性，这可以避免在作用域或后代作用域中发生属性覆盖。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">例如：</div><div class="line">&lt;input type=&quot;text&quot;</div><div class="line">ng-model=&quot;modelName.someProperty&quot; /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ng-show/ng-hide<br>ng-show和ng-hide根据所给表达式的值来显示或隐藏HTML元素。</p>
</li>
<li>ng-change<br>这个指令会在表单输入发生变化时计算给定表达式的值。因为要处理表单输入，这个指令要和ngModel联合起来使用。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-controller=&quot;EquationController&quot;&gt;</div><div class="line">&lt;input type=&quot;text&quot;</div><div class="line">ng-model=&quot;equation.x&quot;</div><div class="line">ng-change=&quot;change()&quot; /&gt;</div><div class="line">&lt;code&gt;&#123;&#123; equation.output &#125;&#125;&lt;/code&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">angular.module(&apos;myApp&apos;,[])</div><div class="line">.controller(&apos;EquationController&apos;,function($scope) &#123;</div><div class="line">$scope.equation = &#123;&#125;;</div><div class="line">$scope.change = function() &#123;</div><div class="line">$scope.equation.output</div><div class="line">= parseInt($scope.equation.x) + 2;</div><div class="line">&#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>上面的例子中，只要文本输入字段中的内容发生了变化就会改变equation.x的值，进而运行change()函数。</p>
<ol>
<li>ng-form<br>ng-form用来在一个表单内部嵌套另一个表单。普通的HTML <form>标签不允许嵌套，但ng-form可以。<br>这意味着内部所有的子表单都合法时，外部的表单才会合法。这对于用ng-repeat动态创建表单是非常有用的。<br>由于不能通过字符插值来给输入元素动态地生成name属性，所以需要将ng-form指令内每组重复的输入字段都包含在一个外部表单元素内。<br>下面的CSS类会根据表单的验证状态自动设置：</form></li>
</ol>
</li>
<li> 表单合法时设置ng-valid；</li>
<li> 表单不合法时设置ng-invlid；</li>
<li> 表单未进行修改时设置ng-pristion；</li>
<li> 表单进行过修改时设置ng-dirty。<br>Angular不会将表单提交到服务器，除非它指定了action属性。要指定提交表单时调用哪个JavaScript方法，使用下面两个指令中的一个。</li>
<li> ng-submit：在表单元素上使用。</li>
<li><p> ng-click：在第一个按钮或submit类型（input[type=submit]）的输入字段上使用。<br>为了避免处理程序被多次调用，只使用下面两个指令中的一个。<br>下面的例子展示了如何通过服务器返回的JSON数据动态生成一个表单。我们用ng-loop来遍历从服务器取回的所有数据。由于不能动态生成name属性，而我们又需要这个属性做验证，所以在循环的过程中会为每一个字段都生成一个新表单。由于AngularJS中用来取代<form>的ng-form指令可以嵌套，并且外部表单在所有子表单都合法之前一直处于不合法状态，因此我们可以在动态生成子表单的同时使用表单验证功能。是的，鱼和熊掌可以兼得。<br>下面先看一下我们硬编码的JSON数据，把它假设成是从服务器返回的：</form></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;myApp&apos;,[])</div><div class="line">.controller(&apos;FormController&apos;,function($scope) &#123;</div><div class="line">$scope.fields = [</div><div class="line">&#123;placeholder: &apos;Username&apos;, isRequired: true&#125;,</div><div class="line">&#123;placeholder: &apos;Password&apos;, isRequired: true&#125;,</div><div class="line">&#123;placeholder: &apos;Email (optional)&apos;, isRequired: false&#125;</div><div class="line">];</div><div class="line">$scope.submitForm = function() &#123;</div><div class="line">alert(&quot;it works!&quot;);</div><div class="line">&#125;;</div><div class="line">&#125;);</div><div class="line">下面用这些数据生成一个有验证功能的动态表单：</div><div class="line">&lt;form name=&quot;signup_form&quot;</div><div class="line">ng-controller=&quot;FormController&quot;</div><div class="line">ng-submit=&quot;submitForm()&quot; novalidate&gt;</div><div class="line">&lt;div ng-repeat=&quot;field in fields&quot;</div><div class="line">ng-form=&quot;signup_form_input&quot;&gt;</div><div class="line">&lt;input type=&quot;text&quot;</div><div class="line">name=&quot;dynamic_input&quot;</div><div class="line">ng-required=&quot;field.isRequired&quot;</div><div class="line">ng-model=&quot;field.name&quot;</div><div class="line">placeholder=&quot;&#123;&#123;field.placeholder&#125;&#125;&quot; /&gt;</div><div class="line">&lt;div</div><div class="line">ng-show=&quot;signup_form_input.dynamic_input.$dirty &amp;&amp;</div><div class="line">signup_form_input.dynamic_input.$invalid&quot;&gt;</div><div class="line">&lt;span class=&quot;error&quot;</div><div class="line">ng-show=&quot;signup_form_input.dynamic_input.$error.required&quot;&gt;</div><div class="line">The field is required.</div><div class="line">&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;button type=&quot;submit&quot;</div><div class="line">ng-disabled=&quot;signup_form.$invalid&quot;&gt;</div><div class="line">Submit All</div><div class="line">&lt;/button&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">input.ng-invalid &#123;</div><div class="line">border: 1px solid red;</div><div class="line">&#125;</div><div class="line">input.ng-valid &#123;</div><div class="line">border: 1px solid green;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>ng-click<br>ng-click用来指定一个元素被点击时调用的方法或表达式。</li>
<li>ng-select<br>ng-select用来将数据同HTML的<code>&lt;select&gt;</code>元素进行绑定。这个指令可以和ng-model以及ng-options指令一同使用，构建精细且表现优良的动态表单。<br>ng-options的值可以是一个内涵表达式（comprehension expression），其实这只是一种有趣的说法，简单来说就是它可以接受一个数组或对象，并对它们进行循环，将内部的内容提供给select标签内部的选项。它可以是下面两种形式。</li>
</ol>
</li>
<li> 数组作为数据源：</li>
</ol>
<ul>
<li> 用数组中的值做标签；</li>
<li> 用数组中的值作为选中的标签；</li>
<li> 用数组中的值做标签组；</li>
<li> 用数组中的值作为选中的标签组。</li>
</ul>
<ol>
<li> 对象作为数据源：</li>
</ol>
<ul>
<li> 用对象的键-值（key-value）做标签；</li>
<li> 用对象的键-值作为选中的标签；</li>
<li> 用对象的键-值作为标签组；</li>
<li><p> 用对象的键-值作为选中的标签组。<br>下面看一个ng-select指令的实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-controller=&quot;CityController&quot;&gt;</div><div class="line">&lt;select ng-model=&quot;city&quot;</div><div class="line">ng-options=&quot;city.name for city in cities&quot;&gt;</div><div class="line">&lt;option value=&quot;&quot;&gt;Choose City&lt;/option&gt;</div><div class="line">&lt;/select&gt;</div><div class="line">Best City: &#123;&#123; city.name &#125;&#125;</div><div class="line">&lt;/div&gt;</div><div class="line">angular.module(&apos;myApp&apos;,[])</div><div class="line">.controller(&apos;CityController&apos;,function($scope) &#123;</div><div class="line">$scope.cities = [</div><div class="line">&#123;name: &apos;Seattle&apos;&#125;,</div><div class="line">&#123;name: &apos;San Francisco&apos;&#125;,</div><div class="line">&#123;name: &apos;Chicago&apos;&#125;,</div><div class="line">&#123;name: &apos;New York&apos;&#125;,</div><div class="line">&#123;name: &apos;Boston&apos;&#125;</div><div class="line">];</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ol>
<li><p>ng-submit<br>ng-submit用来将表达式同onsubmit事件进行绑定。这个指令同时会阻止默认行为（发送请求并重新加载页面）， 除非表单不含有action属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;form ng-submit=&quot;submit()&quot;</div><div class="line">ng-controller=&quot;FormController&quot;&gt;</div><div class="line">Enter text and hit enter:</div><div class="line">&lt;input type=&quot;text&quot;</div><div class="line">ng-model=&quot;person.name&quot;</div><div class="line">name=&quot;person.name&quot; /&gt;</div><div class="line">&lt;input type=&quot;submit&quot;</div><div class="line">name=&quot;person.name&quot;</div><div class="line">value=&quot;Submit&quot; /&gt;</div><div class="line">&lt;code&gt;people=&#123;&#123;people&#125;&#125;&lt;/code&gt;</div><div class="line">&lt;ul ng-repeat=&quot;(index, object) in people&quot;&gt;</div><div class="line">&lt;li&gt;&#123;&#123; object.name &#125;&#125;&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">angular.module(&apos;myApp&apos;,[])</div><div class="line">.controller(&apos;FormController&apos;,function($scope) &#123;</div><div class="line">$scope.person = &#123;</div><div class="line">name: null</div><div class="line">&#125;;</div><div class="line">$scope.people = [];</div><div class="line">$scope.submit = function() &#123;</div><div class="line">if ($scope.person.name) &#123;</div><div class="line">$scope.people.push(&#123;name: $scope.person.name&#125;);</div><div class="line">$scope.person.name = &apos;&apos;;</div><div class="line">&#125;</div><div class="line">&#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>ng-class<br>使用ng-class 动态设置元素的类，方法是绑定一个代表所有需要添加的类的表达式。重复的类不会添加。当表达式发生变化，先前添加的类会被移除，新类会被添加。<br>下面的例子会用ng-class在一个随机数大于5时将.red类添加到一个div上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-controller=&quot;LotteryController&quot;&gt;</div><div class="line">&lt;div ng-class=&quot;&#123;red: x &gt; 5&#125;&quot;//ng-class=&quot;&#123;red: x &gt; 5,green:x&lt;5&#125; 加多个类时用逗号隔开即可。</div><div class="line">ng-if=&quot;x &gt; 5&quot;&gt;</div><div class="line">You won!</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;button ng-click=&quot;generateNumber()&quot;</div><div class="line">ng-init=&quot;x = 0&quot;&gt;</div><div class="line">Draw Number</div><div class="line">&lt;/button&gt;</div><div class="line">&lt;p&gt;Number is: &#123;&#123; x &#125;&#125;&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">.red &#123;</div><div class="line">background-color: red;</div><div class="line">&#125;</div><div class="line">angular.module(&apos;myApp&apos;,[])</div><div class="line">.controller(&apos;LotteryController&apos;, function($scope) &#123;</div><div class="line">$scope.generateNumber = function() &#123;</div><div class="line">return Math.floor((Math.random()*10)+1);</div><div class="line">&#125;;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>ng-attr-(suffix)<br>当AngularJS编译DOM时会查找花括号{ { some expression } }内的表达式。这些表达式会被自动注册到$watch服务中并更新到$digest循环中，成为它的一部分：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;-- updated when`someExpression` on the$scope</div><div class="line">is updated --&gt;</div><div class="line">&lt;h1&gt;Hello&#123;&#123;someExpression&#125;&#125;&lt;/h1&gt;</div><div class="line">有时浏览器会对属性会进行很苛刻的限制。 SVG就是一个例子：</div><div class="line">&lt;svg&gt;</div><div class="line">&lt;circle cx=&quot;&#123;&#123; cx &#125;&#125;&quot;&gt;&lt;/circle&gt;</div><div class="line">&lt;/svg&gt;</div><div class="line">运行上面的代码会抛出一个错误，指出我们有一个非法属性。可以用ng-attr-cx来解决这</div><div class="line">个问题。注意， cx位于这个名称的尾部。在这个属性中，通过用&#123;&#123; &#125;&#125;来写表达式，达到前面提</div><div class="line">到的目的。</div><div class="line">&lt;svg&gt;</div><div class="line">&lt;circle ng-attr-cx=&quot;&#123;&#123; cx &#125;&#125;&quot;&gt;&lt;circle&gt;</div><div class="line">&lt;/svg&gt;</div><div class="line">&#123;&#123;person.name || &quot;无&quot;&#125;&#125; //绑定时做简单判断可以这么写。</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular、directive/">angular、directive</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-angular-guide6-7" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/10/angular-guide6-7/" class="article-date">
      <time datetime="2016-05-10T07:09:49.000Z" itemprop="datePublished">2016-05-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/10/angular-guide6-7/">Angular权威指南学习(第6-7章)表达式和过滤器</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h4><p>用{ { } }符号将一个变量绑定到$scope上的写法本质上就是一个表达式：<code></code>。当用$watch进行监听时， AngularJS会对表达式或函数进行运算。<br>表达式和eval(javascript)非常相似，但是由于表达式由AngularJS来处理，它们有以下显著不同的特性：</p>
<ol>
<li>所有的表达式都在其所属的作用域内部执行，并有访问本地$scope的权限；</li>
<li>如果表达式发生了TypeError和ReferenceError并不会抛出异常；</li>
<li>不允许使用任何流程控制功能（条件控制，例如if/eles）；</li>
<li>可以接受过滤器和过滤器链。<h4 id="解析-AngularJS-表达式"><a href="#解析-AngularJS-表达式" class="headerlink" title="解析 AngularJS 表达式"></a>解析 AngularJS 表达式</h4>AngularJS会在运行$digest循环的过程中自动解析表达式，AngularJS通过$parse这个内部服务来进行表达式的运算，这个服务能够访问当前所处的作用域。这个过程允许我们访问定义在$scope上的原始JavaScript数据和函数。将$parse服务注入到控制器中，然后调用它就可以实现手动解析表达式。<br>如果页面上有一个输入框绑定到了expr变量上，如下所示:<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-controller=&quot;MyController&quot;&gt;</div><div class="line">&lt;input ng-model=&quot;expr&quot;</div><div class="line">type=&quot;text&quot;</div><div class="line">placeholder=&quot;Enter an expression&quot; /&gt;</div><div class="line">&lt;h2&gt;&#123;&#123; parseValue &#125;&#125;&lt;/h2&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">我们可以在MyController中给expr这个表达式设置一个$watch并解析它：</div><div class="line">angular.module(&quot;myApp&quot;, [])</div><div class="line">.controller(&apos;MyController&apos;,</div><div class="line">function($scope,$parse) &#123;</div><div class="line">$scope.$watch(&apos;expr&apos;, function(newVal, oldVal, scope) &#123;</div><div class="line">if (newVal !== oldVal) &#123;</div><div class="line">// 用该表达式设置parseFun</div><div class="line">var parseFun = $parse(newVal);</div><div class="line">// 获取经过解析后表达式的值</div><div class="line">$scope.parsedValue = parseFun(scope);</div><div class="line">&#125;</div><div class="line">&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>注：$watch函数会监视$scope上的某个属性。只要属性发生变化就会调用对应的函数。可以使用$watch函数在$scope上某个属性发生变化时直接运行一个自定义函数。</p>
<h4 id="插值字符串（不常用）"><a href="#插值字符串（不常用）" class="headerlink" title="插值字符串（不常用）"></a>插值字符串（不常用）</h4><p>在开发中，我们的确有手动运行模板编译的能力。要在字符串模板中做插值操作，需要在你的对象中注入$interpolate服务。<br>$interpolate服务返回一个函数，用来在特定的上下文中运算表达式。</p>
<h4 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h4><p>过滤器用来格式化需要展示给用户的数据。 AngularJS有很多实用的内置过滤器，同时也提供了方便的途径可以自己创建过滤器。在HTML中的模板绑定符号{ { } }内通过|符号来调用过滤器。例如，假设我们希望将字符串转换成大写，可以对字符串中的每个字符都单独进行转换操作，也可以使用过滤器：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; name | uppercase &#125;&#125;</div></pre></td></tr></table></figure></p>
<p>在JavaScript代码中可以通过$filter来调用过滤器。例如，在JavaScript代码中使用lowercase过滤器：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">app.controller(&apos;DemoController&apos;, [&apos;$scope&apos;, &apos;$filter&apos;,</div><div class="line">function($scope, $filter) &#123;</div><div class="line">$scope.name = $filter(&apos;lowercase&apos;)(&apos;WEBYWX&apos;);</div><div class="line">&#125;]);</div></pre></td></tr></table></figure></p>
<p>以HTML的形式使用过滤器时，如果需要传递参数给过滤器，只要在过滤器名字后面加冒号即可。如果有多个参数，可以在每个参数后面都加入冒号。例如，数值过滤器可以限制小数点后的位数，在过滤器后写上:2可以将2作为参数传给过滤器：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 显示： 123.46 --&gt;</div><div class="line">&#123;&#123; 123.456789 | number:2 &#125;&#125;</div></pre></td></tr></table></figure></p>
<p>可以用|符号作为分割符来同时使用多个过滤器.</p>
<h4 id="angular-内置过滤器"><a href="#angular-内置过滤器" class="headerlink" title="angular 内置过滤器"></a>angular 内置过滤器</h4><ol>
<li>currency<br>currecy过滤器可以将一个数值格式化为货币格式。用{ { 123 | currency } }`来将123转化成货币格式。</li>
<li><p>date<br>date过滤器可以将日期格式化成需要的格式。 AngularJS中内置了几种日期格式，如果没有指定使用任何格式，默认会采用mediumDate格式，下面的例子中展示了这个格式。下面是内置的支持本地化的日期格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; today | date:&apos;medium&apos; &#125;&#125; &lt;!-- Aug 09, 2013 12:09:02 PM --&gt;</div><div class="line">&#123;&#123; today | date:&apos;short&apos; &#125;&#125; &lt;!-- 8/9/1312:09PM --&gt;</div><div class="line">&#123;&#123; today | date:&apos;fullDate&apos; &#125;&#125; &lt;!-- Thursday, August 09, 2013 --&gt;</div><div class="line">&#123;&#123; today | date:&apos;longDate&apos; &#125;&#125; &lt;!-- August 09, 2013 --&gt;</div><div class="line">&#123;&#123; today | date:&apos;mediumDate&apos; &#125;&#125;&lt;!-- Aug 09, 2013 --&gt;</div><div class="line">&#123;&#123; today | date:&apos;shortDate&apos; &#125;&#125; &lt;!-- 8/9/13 --&gt;</div><div class="line">&#123;&#123; today | date:&apos;mediumTime&apos; &#125;&#125;&lt;!-- 12:09:02 PM --&gt;</div><div class="line">&#123;&#123; today | date:&apos;shortTime&apos; &#125;&#125; &lt;!-- 12:09 PM --&gt;</div><div class="line"> 年份格式化</div><div class="line">四位年份： &#123;&#123; today | date:&apos;yyyy&apos; &#125;&#125; &lt;!-- 2013 --&gt;</div><div class="line">两位年份： &#123;&#123; today | date:&apos;yy&apos; &#125;&#125; &lt;!-- 13 --&gt;</div><div class="line">一位年份： &#123;&#123; today | date:&apos;y&apos; &#125;&#125; &lt;!-- 2013 --&gt;</div><div class="line"> 月份格式化</div><div class="line">英文月份： &#123;&#123; today | date:&apos;MMMM&apos; &#125;&#125; &lt;!-- August --&gt;</div><div class="line">英文月份简写： &#123;&#123; today | date:&apos;MMM&apos; &#125;&#125; &lt;!-- Aug --&gt;</div><div class="line">数字月份： &#123;&#123; today |date:&apos;MM&apos; &#125;&#125; &lt;!-- 08 --&gt;</div><div class="line">一年中的第几个月份： &#123;&#123; today |date:&apos;M&apos; &#125;&#125; &lt;!-- 8 --&gt;</div><div class="line"> 日期格式化</div><div class="line">数字日期： &#123;&#123; today|date:&apos;dd&apos; &#125;&#125; &lt;!-- 09 --&gt;</div><div class="line">一个月中的第几天： &#123;&#123; today | date:&apos;d&apos; &#125;&#125; &lt;!-- 9 --&gt;</div><div class="line">英文星期： &#123;&#123; today | date:&apos;EEEE&apos; &#125;&#125; &lt;!-- Thursday --&gt;</div><div class="line">英文星期简写： &#123;&#123; today | date:&apos;EEE&apos; &#125;&#125; &lt;!-- Thu --&gt;</div><div class="line"> 小时格式化</div><div class="line">24小时制数字小时： &#123;&#123;today|date:&apos;HH&apos;&#125;&#125; &lt;!--00--&gt;</div><div class="line">一天中的第几个小时： &#123;&#123;today|date:&apos;H&apos;&#125;&#125; &lt;!--0--&gt;</div><div class="line">12小时制数字小时： &#123;&#123;today|date:&apos;hh&apos;&#125;&#125; &lt;!--12--&gt;</div><div class="line">上午或下午的第几个小时： &#123;&#123;today|date:&apos;h&apos;&#125;&#125; &lt;!--12--&gt;</div><div class="line"> 分钟格式化</div><div class="line">数字分钟数： &#123;&#123; today | date:&apos;mm&apos; &#125;&#125; &lt;!-- 09 --&gt;</div><div class="line">一个小时中的第几分钟： &#123;&#123; today | date:&apos;m&apos; &#125;&#125; &lt;!-- 9 --&gt;</div><div class="line"> 秒数格式化</div><div class="line">数字秒数： &#123;&#123; today | date:&apos;ss&apos; &#125;&#125; &lt;!-- 02 --&gt;</div><div class="line">一分钟内的第几秒： &#123;&#123; today | date:&apos;s&apos; &#125;&#125; &lt;!-- 2 --&gt;</div><div class="line">毫秒数： &#123;&#123; today | date:&apos;.sss&apos; &#125;&#125; &lt;!-- .995 --&gt;</div><div class="line"> 字符格式化</div><div class="line">上下午标识： &#123;&#123; today | date:&apos;a&apos; &#125;&#125; &lt;!-- AM --&gt;</div><div class="line">四位时区标识： &#123;&#123; today | date:&apos;Z&apos; &#125;&#125; &lt;!--- 0700 --&gt;</div><div class="line">下面是一些自定义日期格式的示例：</div><div class="line">&#123;&#123; today | date:&apos;MMMd, y&apos; &#125;&#125; &lt;!-- Aug9, 2013 --&gt;</div><div class="line">&#123;&#123; today | date:&apos;EEEE, d, M&apos; &#125;&#125; &lt;!-- Thursday, 9, 8--&gt;</div><div class="line">&#123;&#123; today | date:&apos;hh:mm:ss.sss&apos; &#125;&#125; &lt;!-- 12:09:02.995 --&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>filter<br>filter过滤器可以从给定数组中选择一个子集，并将其生成一个新数组返回。这个过滤器通常用来过滤需要进行展示的元素。例如，在做客户端搜索时，可以从一个数组中立刻过滤出所需的结果。这个过滤器的第一个参数可以是字符串、对象或是一个用来从数组中选择元素的函数。<br> 下面分情况介绍传入不同类型的参数。</p>
<ol>
<li> 字符串<br>返回所有包含这个字符串的元素。如果我们想返回不包含该字符串的元素，在参数前加!符号。</li>
<li> 对象<br>AngularJS会将待过滤对象的属性同这个对象中的同名属性进行比较，如果属性值是字符串就会判断是否包含该字符串。如果我们希望对全部属性都进行对比，可以将$当作键名。</li>
<li><p> 函数<br>对每个元素都执行这个函数，返回非假值的元素会出现在新的数组中并返回。<br>例如，用下面的过滤器可以选择所有包含字母e的单词：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; [&apos;Ari&apos;,&apos;Lerner&apos;,&apos;Likes&apos;,&apos;To&apos;,&apos;Eat&apos;,&apos;Pizza&apos;] | filter:&apos;e&apos; &#125;&#125;</div><div class="line">&lt;!-- [&quot;Lerner&quot;,&quot;Likes&quot;,&quot;Eat&quot;] --&gt;</div></pre></td></tr></table></figure>
<p>如果要过滤对象，可以使用上面提到的对象过滤器。例如，如果有一个由people对象组成的<br>数组，每个对象都含有他们最喜欢吃的食物的列表，那么可以用下面的形式进行过滤：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; [&#123;</div><div class="line">&apos;name&apos;: &apos;Ari&apos;,</div><div class="line">&apos;City&apos;: &apos;San Francisco&apos;,</div><div class="line">&apos;favorite food&apos;: &apos;Pizza&apos;</div><div class="line">&#125;,&#123;</div><div class="line">&apos;name&apos;: &apos;Nate&apos;,</div><div class="line">&apos;City&apos;: &apos;San Francisco&apos;,</div><div class="line">&apos;favorite food&apos;: &apos;indian food&apos;</div><div class="line">&#125;] | filter:&#123;&apos;favorite food&apos;: &apos;Pizza&apos;&#125; &#125;&#125;</div><div class="line">&lt;!-- [&#123;&quot;name&quot;:&quot;Ari&quot;,&quot;City&quot;:&quot;SanFrancisco&quot;,&quot;favoritefood&quot;:&quot;Pizza&quot;&#125;] --&gt;</div></pre></td></tr></table></figure>
<p>也可以用自定义函数进行过滤（在这个例子中函数定义在$scope上）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; [&apos;Ari&apos;,&apos;likes&apos;,&apos;to&apos;,&apos;travel&apos;] | filter:isCapitalized &#125;&#125;</div><div class="line">&lt;!-- [&quot;Ari&quot;] --&gt;</div><div class="line">isCapitalized函数的功能是根据首字母是否为大写返回true或false，具体如下所示：</div><div class="line">$scope.isCapitalized = function(str) &#123;</div><div class="line">return str[0] == str[0].toUpperCase();</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>我们也可以给filter过滤器传入第二个参数，用来指定预期值同实际值进行比较的方式。<br>第二个参数可以是以下三种情况之一。<br> true<br>用angular.equals(expected, actual)对两个值进行严格比较。<br> false<br>进行区分大小写的子字符串比较。<br> 函数<br>运行这个函数，如果返回真值就接受这个元素。</p>
<h4 id="json"><a href="#json" class="headerlink" title="json"></a>json</h4><p>json过滤器可以将一个JSON或JavaScript对象转换成字符串。这种转换对调试非常有帮助：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; &#123;&apos;name&apos;: &apos;Ari&apos;, &apos;City&apos;: &apos;SanFrancisco&apos;&#125; | json &#125;&#125;</div><div class="line">&lt;!--</div><div class="line">&#123;</div><div class="line">&quot;name&quot;: &quot;Ari&quot;,</div><div class="line">&quot;City&quot;: &quot;San Francisco&quot;</div><div class="line">&#125;</div><div class="line">--&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>limitTo<br>limitTo过滤器会根据传入的参数生成一个新的数组或字符串，新的数组或字符串的长度取决于传入的参数，通过传入参数的正负值来控制从前面还是从后面开始截取。如果传入的长度值大于被操作数组或字符串的长度，那么整个数组或字符串都会被返回。<br>例如，我们可以截取字符串的前三个字符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; San Francisco is very cloudy | limitTo:3 &#125;&#125;</div><div class="line">&lt;!-- San --&gt;</div><div class="line">或最后的六个字符：</div><div class="line">&#123;&#123; San Francisco is very cloudy | limitTo:-6 &#125;&#125;</div><div class="line">&lt;!-- cloudy --&gt;</div><div class="line">对数组也可以进行同样的操作。返回数组的第一个元素：</div><div class="line">&#123;&#123; [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;,&apos;f&apos;] | limitTo:1 &#125;&#125;</div><div class="line">&lt;!-- [&quot;a&quot;] --&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>lowercase<br>lowercase过滤器将字符串转为小写。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; &quot;San Francisco is very cloudy&quot; | lowercase &#125;&#125;</div><div class="line">&lt;!-- san francisco is very cloudy --&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>number<br>number过滤器将数字格式化成文本。它的第二个参数是可选的，用来控制小数点后截取的位数。如果传入了一个非数字字符，会返会空字符串。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; 123456789 | number &#125;&#125;</div><div class="line">&lt;!-- 1,234,567,890 --&gt;</div><div class="line">&#123;&#123; 1.234567 | number:2 &#125;&#125;</div><div class="line">&lt;!-- 1.23 --&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>orderBy<br>orderBy过滤器可以用表达式对指定的数组进行排序。orderBy可以接受两个参数，第一个是必需的，第二个是可选的。<br>第一个参数是用来确定数组排序方向的谓词。<br> 下面分情况讨论第一个参数的类型。<br>  函数<br> 当第一个参数是函数时，该函数会被当作待排序对象的getter方法。<br>  字符串<br> 对这个字符串进行解析的结果将决定数组元素的排序方向。我们可以传入+或-来强制进行升序或降序排列。<br>  数组<br> 在排序表达式中使用数组元素作为谓词。对于与表达式结果并不严格相等的每个元素，则使用第一个谓词。<br> 第二个参数用来控制排序的方向（是否逆向）。<br> 例如，我们将下面的对象数组用name字段进行排序：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; [&#123;</div><div class="line">&apos;name&apos;: &apos;Ari&apos;,</div><div class="line">&apos;status&apos;: &apos;awake&apos;</div><div class="line">&#125;,&#123;</div><div class="line">&apos;name&apos;: &apos;Q&apos;,</div><div class="line">&apos;status&apos;: &apos;sleeping&apos;</div><div class="line">&#125;,&#123;</div><div class="line">&apos;name&apos;: &apos;Nate&apos;,</div><div class="line">&apos;status&apos;: &apos;awake&apos;</div><div class="line">&#125;] | orderBy:&apos;name&apos; &#125;&#125;</div><div class="line">&lt;!--</div><div class="line">[</div><div class="line">&#123;&quot;name&quot;:&quot;Ari&quot;,&quot;status&quot;:&quot;awake&quot;&#125;,</div><div class="line">&#123;&quot;name&quot;:&quot;Nate&quot;,&quot;status&quot;:&quot;awake&quot;&#125;,</div><div class="line">&#123;&quot;name&quot;:&quot;Q&quot;,&quot;status&quot;:&quot;sleeping&quot;&#125;</div><div class="line">]</div><div class="line">--&gt;</div><div class="line">也可以对排序结果进行反转。例如，通过将第二个参数设置为true可以将排序结果进行反转：</div><div class="line">&#123;&#123; [&#123;</div><div class="line">&apos;name&apos;: &apos;Ari&apos;,</div><div class="line">&apos;status&apos;: &apos;awake&apos;</div><div class="line">&#125;,&#123;</div><div class="line">&apos;name&apos;: &apos;Q&apos;,</div><div class="line">&apos;status&apos;: &apos;sleeping&apos;</div><div class="line">&#125;,&#123;</div><div class="line">&apos;name&apos;: &apos;Nate&apos;,</div><div class="line">&apos;status&apos;: &apos;awake&apos;</div><div class="line">&#125;] | orderBy:&apos;name&apos;:true &#125;&#125;</div><div class="line">&lt;!--</div><div class="line">[</div><div class="line">&#123;&quot;name&quot;:&quot;Q&quot;,&quot;status&quot;:&quot;sleeping&quot;&#125;,</div><div class="line">&#123;&quot;name&quot;:&quot;Nate&quot;,&quot;status&quot;:&quot;awake&quot;&#125;,</div><div class="line">&#123;&quot;name&quot;:&quot;Ari&quot;,&quot;status&quot;:&quot;awake&quot;&#125;</div><div class="line">]</div><div class="line">--&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>uppercase<br>uppercase过滤器可以将字符串转换为大写形式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; &quot;San Francisco is very cloudy&quot; | uppercase &#125;&#125;</div><div class="line">&lt;!-- SAN FRANCISCO IS VERY CLOUDY --&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h4><p>创建自定义过滤器非常容易。创建自定义过滤器需要将它放到自己的模块中。<br>例：实现一个过滤器，将字符串第一个字母转换为大写<br>首先，创建一个模块用以在应用中进行引用（这是一个非常好的实践）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;myApp.filters&apos;, [])</div><div class="line">.filter(&apos;capitalize&apos;, function() &#123;</div><div class="line">return function(input) &#123;&#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>过滤器本质上是一个会把我们输入的内容当作参数传入进去的函数。上面这个例子中，我们在调用过滤器时简单地把input当作字符串来处理。可以在这个函数中做一些错误检查：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;myApp.filters&apos;, [])</div><div class="line">.filter(&apos;capitalize&apos;, function() &#123;</div><div class="line">return function(input) &#123;</div><div class="line">// input是我们传入的字符串</div><div class="line">if (input) &#123;</div><div class="line">return input[0].toUpperCase() + input.slice(1);</div><div class="line">&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>现在，如果想将一个句子的首字母转换成大写形式，可以用过滤器先将整个句子都转换成小写，再把首字母转换成大写：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!-- Ginger loves dog treats --&gt;</div><div class="line">&#123;&#123; &apos;ginger loves dog treats&apos; | lowercase | capitalize &#125;&#125;</div></pre></td></tr></table></figure></p>
<h4 id="表单验证"><a href="#表单验证" class="headerlink" title="表单验证"></a>表单验证</h4><p>AngularJS能够将HTML5表单验证功能同它自己的验证指令结合起来使用，并且非常方便。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;form name=&quot;form&quot; novalidate&gt;</div><div class="line">&lt;label name=&quot;email&quot;&gt;Your email&lt;/label&gt;</div><div class="line">&lt;input type=&quot;email&quot;</div><div class="line">name=&quot;email&quot;</div><div class="line">ng-model=&quot;email&quot; placeholder=&quot;Email Address&quot; /&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure></p>
<p>注：要使用表单验证，首先要确保表单像上面的例子一样有一个name属性。<br>所有输入字段都可以进行基本的验证，比如最大、最小长度等。这些功能是由新的HTML5表单属性提供的。如果想要屏蔽浏览器对表单的默认验证行为，可以在表单元素上添加novalidate标记。</p>
<ul>
<li>input元素所有验证选项如下：</li>
</ul>
<ol>
<li><p>必填项<br>验证某个表单输入是否已填写，只要在输入字段元素上添加HTML5标记required即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; required /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>最小长度<br>验证表单输入的文本长度是否大于某个最小值，在输入字段上使用AngularJS指令ng-minleng=”{number}”：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; ng-minlength=&quot;5&quot; /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>最大长度<br>验证表单输入的文本长度是否小于或等于某个最大值，在输入字段上使用AngularJS指令ng-maxlength=”{number}”：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; ng-maxlength=&quot;20&quot; /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>模式匹配<br>使用ng-pattern=”/PATTERN/“来确保输入能够匹配指定的正则表达式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; ng-pattern=&quot;[a-zA-Z]&quot; /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>电子邮件<br>验证输入内容是否是电子邮件，只要像下面这样将input的类型设置为email即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;email&quot; name=&quot;email&quot; ng-model=&quot;user.email&quot; /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>数字<br>验证输入内容是否是数字，将input的类型设置为number：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;number&quot; name=&quot;age&quot; ng-model=&quot;user.age&quot; /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>URL<br>验证输入内容是否是URL，将input的类型设置为 url：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;url&quot; name=&quot;homepage&quot; ng-model=&quot;user.facebook_url&quot; /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>在表单中控制变量<br>表单的属性可以在其所属的$scope对象中访问到，而我们又可以访问$scope对象，因此JavaScript可以间接地访问DOM中的表单属性。借助这些属性，我们可以对表单做出实时（和AngularJS中其他东西一样）响应。<br>注：可以使用下面的格式访问这些属性。<br>formName.inputFieldName.property<br> 未修改的表单<br>这是一个布尔属性，用来判断用户是否修改了表单。如果未修改，值为true，如果修改过值<br>为false：<br>formName.inputFieldName.$pristine<br> 修改过的表单<br>只要用户修改过表单，无论输入是否通过验证，该值都返回true：<br>formName.inputFieldName.$dirty<br> 合法的表单<br>这个布尔型的属性用来判断表单的内容是否合法。如果当前表单内容是合法的，下面属性的<br>值就是true：<br>formName.inputFieldName.$valid<br> 不合法的表单<br>这个布尔属性用来判断表单的内容是否不合法。如果当前表单内容是不合法的，下面属性的<br>值为true：<br>formName.inputFieldName.$invalid<br> 错误<br>这是AngularJS提供的另外一个非常有用的属性： $error对象。它包含当前表单的所有验证<br>内容，以及它们是否合法的信息。用下面的语法访问这个属性：<br>formName.inputfieldName.$error<br>如果验证失败，这个属性的值为true；如果值为false，说明输入字段的值通过了验证。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">例：判断错误提示框是否显示：</div><div class="line">ng-show=&quot;signup_form.name.$dirty &amp;&amp; signup_form.name.$invalid&quot;</div><div class="line">signup_form为表单的name属性值，name为input输入框的name属性值。</div></pre></td></tr></table></figure>
</li>
<li><p>一些有用的CSS样式<br>AngularJS处理表单时，会根据表单当前的状态添加一些CSS类（例如当前是合法的、未发生变化的，等等），这些CSS类的命名和前面介绍的属性很相似。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">.ng-pristine &#123;&#125;</div><div class="line">.ng-dirty &#123;&#125;</div><div class="line">.ng-valid &#123;&#125;</div><div class="line">.ng-invalid &#123;&#125;</div></pre></td></tr></table></figure>
<p>它们对应着表单输入字段的特定状态。<br>当某个字段中的输入非法时， .ng-invlid类会被添加到这个字段上。当前例子中的站点将对应的CSS样式设置为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">input.ng-invalid &#123;</div><div class="line">border: 1px solid red;</div><div class="line">&#125;</div><div class="line">input.ng-valid &#123;</div><div class="line">border: 1px solid green;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>$parsers<br>使用$parsers数组是实现自定义验证的途径之一。<ul>
<li>$formatters<br>注：表单本身会提供$invalid和$valid属性。例：formName.$invalid;当用户试图提交表单时，你可以在作用域中捕获到一个submitted值，然后对表单内容进行验证并显示错误信息。一般当formName.submitted设置为true时，容纳错误信息的div才会展示出来。<h4 id="从1-3开始，-Angular中新增了一个ngMessages指令。"><a href="#从1-3开始，-Angular中新增了一个ngMessages指令。" class="headerlink" title="从1.3开始， Angular中新增了一个ngMessages指令。"></a>从1.3开始， Angular中新增了一个ngMessages指令。</h4></li>
</ul>
</li>
</ul>
<ol>
<li><p>安装ngMessages很简单，因为它被打包成了一个Angular模块。首先下载这个模块：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ bower install --save angular-messages</div></pre></td></tr></table></figure>
</li>
<li><p>还需要将angular-messages.js这个JavaScript引入我们的主HTML中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;bower_components/angular-messages/angular-messages.js&quot;&gt;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>最后，我们还要告诉Angular将ngMessages作为应用程序的依赖模块引入，就像这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;myApp&apos;, [&apos;ngMessages&apos;]);</div></pre></td></tr></table></figure>
<p>例：在没有使用ngMessages之前，我们可能这样写验证：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;form name=&quot;userForm&quot;&gt;</div><div class="line">&lt;input </div><div class="line">type=&quot;text&quot;</div><div class="line">name=&quot;username&quot;</div><div class="line">ng-model=&quot;user.username&quot;</div><div class="line">ng-minlength=&quot;3&quot;</div><div class="line">ng-maxlength=&quot;8&quot;</div><div class="line">required&gt;</div><div class="line">&lt;p ng-show=&quot;userForm.username.$error.minlength&quot;&gt;Username is too short.&lt;/p&gt;</div><div class="line">&lt;p ng-show=&quot;userForm.username.$error.maxlength&quot;&gt;Username is too long.&lt;/p&gt;</div><div class="line">&lt;p ng-show=&quot;userForm.username.$error.required&quot;&gt;Your username is required.&lt;/p&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<p>有了”ngMessages”这个module,大致这么写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;help-block&quot; ng-messages=&quot;userForm.name.$error&quot; ng-if=&quot;userForm.name.$touched&quot;&gt;</div><div class="line">&lt;p ng-message=&quot;minlength&quot;&gt;用户名最小长度5&lt;/p&gt;</div><div class="line">&lt;p ng-message=&quot;maxlength&quot;&gt;用户名最大长度10&lt;/p&gt;</div><div class="line">&lt;p ng-message=&quot;required&quot;&gt;用户名必填&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>ngMessages为我们自动判断显示哪种错误。</p>
</li>
</ol>
<h4 id="使用ngMessages的几个关键点："><a href="#使用ngMessages的几个关键点：" class="headerlink" title="使用ngMessages的几个关键点："></a>使用ngMessages的几个关键点：</h4><ol>
<li>● npm install angular-messages</li>
<li>● 引用：angular-messages.js</li>
<li>● 依赖：angular.module(‘app’,[‘ngMessages’])</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular、表达式、filter/">angular、表达式、filter</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-angular-guide1-5章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/04/angular-guide1-5章/" class="article-date">
      <time datetime="2016-05-04T03:35:12.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/angular-guide1-5章/">Angular权威指南学习（第1到5章）模块、控制器及一些基础</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="angular在现代Web应用中经常要用到的一系列高级功能，例如："><a href="#angular在现代Web应用中经常要用到的一系列高级功能，例如：" class="headerlink" title="angular在现代Web应用中经常要用到的一系列高级功能，例如："></a>angular在现代Web应用中经常要用到的一系列高级功能，例如：</h4><p>1.解耦应用逻辑、数据模型和视图；2. Ajax服务；3. 依赖注入；4. 浏览历史（使书签和前进、后退按钮能够像在普通Web应用中一样工作）；5. 测试；</p>
<h4 id="ip地址的类型"><a href="#ip地址的类型" class="headerlink" title="ip地址的类型"></a>ip地址的类型</h4><p>目前有IPv4和IPv6两种主要的IP地址类型,普遍使用的是IPv4地址，例如192.168.0.199这种形式，而IPv6地址是IPv62001:0db8:0000:0000:0000:ff00:0042:8329这种形式的。</p>
<h4 id="ng-model"><a href="#ng-model" class="headerlink" title="ng-model"></a>ng-model</h4><p>当AngularJS认为某个值可能发生变化时，它会运行自己的事件循环来检查这个值是否变“脏”。如果该值从上次事件循环运行之后发生了变化，则该值被认为是“脏”值。这也是Angular可以跟踪和响应应用变化的方式。这个事件循环会调用$digest()循环,这个过程被称作脏检查（dirty checking).</p>
<h4 id="ng-app"><a href="#ng-app" class="headerlink" title="ng-app"></a>ng-app</h4><p> <code>ng-app</code>属性声明所有被其包含的内容都属于这个AngularJS应用，这也是我们可以在Web应用中嵌套AngularJS应用的原因。只有被具有<code>ng-app</code>属性的DOM元素包含的元素才会受AngularJS影响.</p>
<h4 id="使用module的好处："><a href="#使用module的好处：" class="headerlink" title="使用module的好处："></a>使用module的好处：</h4><p> 1.保持全局命名空间的清洁；2.编写测试代码更容易，并能保持其清洁，以便更容易找到互相隔离的功能；3.易于在不同应用间复用代码；4.使应用能够以任意顺序加载代码的各个部分。</p>
<h4 id="声明模块"><a href="#声明模块" class="headerlink" title="声明模块"></a>声明模块</h4><p>AngularJS允许我们使用angular.module()方法来声明模块，这个方法能够接受两个参数，<br>第一个是模块的名称，第二个是依赖列表，也就是可以被注入到模块中的对象列表。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;myApp&apos;, []);</div></pre></td></tr></table></figure></p>
<p>注：这个方法相当于AngularJS模块的setter方法，是用来定义模块的。</p>
<h4 id="引用模块"><a href="#引用模块" class="headerlink" title="引用模块"></a>引用模块</h4><p>调用这个方法时如果只传递一个参数，就可以用它来引用模块。例如，可以通过以下代码来<br>引用myApp模块：<code>angular.module(&#39;myApp&#39;)</code><br>注：这个方法相当于AngularJS模块的getter方法，用来获取对模块的引用。</p>
<h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><p>作用域scope是构成AngularJS应用的核心基础，作用域是视图和控制器之间的胶水。$scope对象是定义应用业务逻辑、控制器方法和视图属性的地方。$scope可以进行嵌套，也就是说我们可以引用父级$scope中的属性。</p>
<h4 id="rootScope"><a href="#rootScope" class="headerlink" title="rootScope"></a>rootScope</h4><p>AngularJS启动并生成视图时，会将根ng-app元素同$rootScope进行绑定。 $rootScope是所有$scope对象的最上层,$scope对象在AngularJS中充当数据模型，但与传统的数据模型不一样， $scope并不负责处理和操作数据，它只是视图和HTML之间的桥梁，它是视图和控制器之间的胶水。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;myApp&apos;, [])</div><div class="line">.run(function($rootScope) &#123;</div><div class="line">$rootScope.name = &quot;World&quot;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h4 id="可以在AngularJS应用的模板中使用多种标记"><a href="#可以在AngularJS应用的模板中使用多种标记" class="headerlink" title="可以在AngularJS应用的模板中使用多种标记"></a>可以在AngularJS应用的模板中使用多种标记</h4><p> 1.指令：将DOM元素增强为可复用的DOM组件的属性或元素。2.值绑定：模板语法{ {<br> } }可以将表达式绑定到视图上。3.过滤器：可以在视图中使用的函数，用来进行格式化。 4.表单控件：用来检验用户输入的控件</p>
<h4 id="ng-controller"><a href="#ng-controller" class="headerlink" title="ng-controller"></a>ng-controller</h4><p>ng-controller指令为这个DOM元素创建了一个新的$scope对象，并将它嵌套在$rootScope中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">angular.module(&quot;myApp&quot;, [])</div><div class="line">.controller(&apos;MyController&apos;,</div><div class="line">function($scope) &#123;</div><div class="line">$scope.name = &quot;ywx&quot;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h4 id="scope-的生命周期"><a href="#scope-的生命周期" class="headerlink" title="$scope 的生命周期"></a>$scope 的生命周期</h4><p>$scope对象的生命周期处理有四个不同阶段。</p>
<ol>
<li>创建<br>在创建控制器或指令时， AngularJS会用$injector创建一个新的作用域，并在这个新建的控<br>制器或指令运行时将作用域传递进去。</li>
<li>链接<br>当Angular开始运行时，所有的$scope对象都会附加或者链接到视图中。所有创建$scope对<br>象的函数也会将自身附加到视图中。这些作用域将会注册当Angular应用上下文中发生变化时需<br>要运行的函数。<br>这些函数被称为$watch函数， Angular通过这些函数获知何时启动事件循环。</li>
<li>更新<br>当事件循环运行时，它通常执行在顶层$scope对象上（被称作$rootScope），每个子作用域<br>都执行自己的脏值检测。每个监控函数都会检查变化。如果检测到任意变化， $scope对象就会触<br>发指定的回调函数。</li>
<li>销毁<br>当一个$scope在视图中不再需要时，这个作用域将会清理和销毁自己。<br>尽管永远不会需要清理作用域（因为Angular会为你处理），但是知道是谁创建了这个作用域<br>还是有用的，因为你可以使用这个$scope上叫做$destory()的方法来清理这个作用域。<h4 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h4>AngularJS中的控制器是一个函数，用来向视图的作用域中添加额外的功能。我们用它来给<br>作用域对象设置初始状态，并添加自定义行为。<br>注：将控制器命名为<code>[Name]Controller</code>而不是<code>[Name]Ctrl</code>是一个最佳实践。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">app.controller(&apos;FirstController&apos;, function($scope) &#123;</div><div class="line">$scope.counter = 0;</div><div class="line">$scope.add = function(amount) &#123; $scope.counter += amount; &#125;;</div><div class="line">$scope.subtract = function(amount) &#123; $scope.counter -= amount; &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>用这种设置方式我们可以在视图中调用add()或subtract()方法，这两个方法可以定义在FirstController的作用域中，或其父级的$scope中。<br>注意：AngularJS同其他JavaScript框架最主要的一个区别就是，控制器并不适合用来执行DOM操作、格式化或数据操作，以及除存储数据模型之外的状态维护操作。它只是视图和$scope之间的桥梁。设计良好的应用会将复杂的逻辑放到指令和服务中。通过使用指令和服务，我们可以将控制器重构成一个轻量且更易维护的形式。</p>
<h4 id="控制器嵌套（作用域包含作用域）"><a href="#控制器嵌套（作用域包含作用域）" class="headerlink" title="控制器嵌套（作用域包含作用域）"></a>控制器嵌套（作用域包含作用域）</h4><p>AngularJS应用的任何一个部分，无论它渲染在哪个上下文中，都有父级作用域存在。对于ng-app所处的层级来讲，它的父级作用域就是$rootScope。<br>有一个例外：在指令内部创建的作用域被称作孤立作用域。除了孤立作用域外，所有的作用域都通过原型继承而来，也就是说它们都可以访问父级作用<br>域。<br>默认情况下， AngularJS在当前作用域中无法找到某个属性时，便会在父级作用域中进行查找。如果AngularJS找不到对应的属性，会顺着父级作用域一直向上寻找，直到抵达$rootScope为止。如果在$rootScope中也找不到，程序会继续运行，但视图无法更新。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular、module、controller/">angular、module、controller</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-gitsinglefile" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/12/gitsinglefile/" class="article-date">
      <time datetime="2016-03-12T07:19:07.000Z" itemprop="datePublished">2016-03-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/12/gitsinglefile/">如何在github上下载单个文件夹？</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="第一种方式："><a href="#第一种方式：" class="headerlink" title="第一种方式："></a>第一种方式：</h3><p>Git1.7.0以后加入了Sparse Checkout模式，这使得Check Out指定文件或者文件夹成为可能。</p>
<p>具体实现如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$mkdir project_folder</div><div class="line">$cd project_folder</div><div class="line">$git init</div><div class="line">$git remote add -f origin &lt;url&gt;   url要为https格式的。</div></pre></td></tr></table></figure></p>
<p>上面的代码会帮助你创建一个空的本地仓库，同时将远程Git Server URL加入到Git Config文件中。</p>
<p>接下来，我们在Config中允许使用Sparse Checkout模式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$git config core.sparsecheckout true</div></pre></td></tr></table></figure></p>
<p>接下来你需要告诉Git哪些文件或者文件夹是你真正想Check Out的，你可以将它们作为一个列表保存在 .git/info/sparse-checkout 文件中。<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$echo “libs” &gt;&gt; .git/info/sparse-checkout</div><div class="line">$echo “apps/register.go” &gt;&gt; .git/info/sparse-checkout</div><div class="line">$echo “resource/css” &gt;&gt; .git/info/sparse-checkout</div></pre></td></tr></table></figure></p>
<p>最后，你只要以正常方式从你想要的分支中将你的项目拉下来就可以了：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$git pull origin master</div></pre></td></tr></table></figure></p>
<h3 id="第二种方式："><a href="#第二种方式：" class="headerlink" title="第二种方式："></a>第二种方式：</h3><p>可以用谷歌的一款插件——Octotree,安装上此插件，当打开github页面时，页面的左上角会出现一个小箭头，即左侧的工具栏 , 它相当于一个文件浏览器 , 可以看到整个项目的文件目录 , 在鼠标移动到相应文件下还会出现下载按钮 , 也很方便下载文件。如下图<br><img src="http://oi28tswuq.bkt.clouddn.com/images/git-single.png" alt="github"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git-github/">git github</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-jigou" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/10/jigou/" class="article-date">
      <time datetime="2016-02-10T14:47:14.000Z" itemprop="datePublished">2016-02-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/10/jigou/">ES6学习-变量的解构赋值用途</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="（1）交换变量的值"><a href="#（1）交换变量的值" class="headerlink" title="（1）交换变量的值"></a>（1）交换变量的值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[x, y] = [y, x];</div></pre></td></tr></table></figure>
<p>上面代码交换变量x和y的值，这样的写法不仅简洁，而且易读，语义非常清晰。</p>
<h3 id="（2）从函数返回多个值"><a href="#（2）从函数返回多个值" class="headerlink" title="（2）从函数返回多个值"></a>（2）从函数返回多个值</h3><p>函数只能返回一个值，如果要返回多个值，只能将它们放在数组或对象里返回。有了解构赋值，取出这些值就非常方便。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// 返回一个数组</div><div class="line">function example() &#123;return [1, 2, 3];&#125;var [a, b, c] = example();</div><div class="line">// 返回一个对象</div><div class="line">function example() &#123;return &#123;</div><div class="line">    foo: 1,</div><div class="line">    bar: 2&#125;;&#125;var &#123; foo, bar &#125; = example();</div><div class="line">```  </div><div class="line">### （3）函数参数的定义</div><div class="line">解构赋值可以方便地将一组参数与变量名对应起来。</div></pre></td></tr></table></figure></p>
<p>// 参数是一组有次序的值<br>function f([x, y, z]) { … }f([1, 2, 3]);<br>// 参数是一组无次序的值<br>function f({x, y, z}) { … }f({z: 3, y: 2, x: 1});<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">### （4）提取JSON数据</div><div class="line">解构赋值对提取JSON对象中的数据，尤其有用。</div></pre></td></tr></table></figure></p>
<p>var jsonData = {<br>  id: 42,<br>  status: “OK”,<br>  data: [867, 5309]};let { id, status, data: number } = jsonData;</p>
<p>console.log(id, status, number);<br>// 42, “OK”, [867, 5309]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">上面代码可以快速提取JSON数据的值。</div><div class="line">### （5）函数参数的默认值</div></pre></td></tr></table></figure></p>
<p>jQuery.ajax = function (url, {<br>  async = true,<br>  beforeSend = function () {},<br>  cache = true,<br>  complete = function () {},<br>  crossDomain = false,<br>  global = true, // … more config<br>}) { // … do stuff<br>};<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">指定参数的默认值，就避免了在函数体内部再写var foo = config.foo || &apos;default foo&apos;;这样的语句。</div><div class="line">### （6）遍历Map结构</div><div class="line">任何部署了Iterator接口的对象，都可以用for...of循环遍历。Map结构原生支持Iterator接口，配合变量的解构赋值，获取键名和键值就非常方便。</div></pre></td></tr></table></figure></p>
<p>var map = new Map();<br>map.set(‘first’, ‘hello’);<br>map.set(‘second’, ‘world’);for (let [key, value] of map) {<br>  console.log(key + “ is “ + value);}<br>// first is hello<br>// second is world<br>如果只想获取键名，或者只想获取键值，可以写成下面这样。<br>// 获取键名<br>for (let [key] of map) { // …<br>}<br>// 获取键值<br>for (let [,value] of map) { // …<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">### （7）输入模块的指定方法</div><div class="line">加载模块时，往往需要指定输入那些方法。解构赋值使得输入语句非常清晰。</div></pre></td></tr></table></figure></p>
<p>const { SourceMapConsumer, SourceNode } = require(“source-map”);<br>```</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/解构赋值-es6/">解构赋值 es6</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-web-xingnengyouhua" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/22/web-xingnengyouhua/" class="article-date">
      <time datetime="2016-01-22T02:01:06.000Z" itemprop="datePublished">2016-01-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/22/web-xingnengyouhua/">前端性能优化积累</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <ol>
<li>阿里云云存储服务-对象存储OSS<br>对象存储（Object Storage Service，简称OSS），是阿里云对外提供的海量、安全和高可靠的云存储服务。按实际容量及流量收费。可以放置项目图片及项目的静态文件，每个文件对应返回一个url可以直接调用,用此方法可以减轻服务器的压力及减少了http请求次数。当然也可以用其他云服务比如七牛云等，个人博客的话建议用七牛云，认证后会有10g的免费空间，足够使用了。</li>
<li>图片转base64<br>可根据项目需要来决定是否使用base64，虽然转了base64可减少http请求数，但是过多使用会造成页面的冗余。其次是无法利用浏览器缓存。</li>
<li>css sprite<br>雪碧图又称css精灵，这是一种常用的优化手段，将多个小图片或者小图标合并到一张大图上，根据定位来计算要显示的图标，现在可以用字体图标来代替一些常用的小图标，建议项目中这么干。</li>
<li>css及js文件合并与压缩<br>可以使用打包工具对文件进行处理，比如webpack,gulp,建议自己学习。如果你到了一个牛比的大公司就不用细学了，因为有专门的打包工程师来负责，你只管开发代码就可以了。</li>
<li>从设计实现层面简化页面<br>　如果你的页面像百度首页一样简单，那么上面的规则基本上都用不着了。保持页面简洁、减少资源的使用是最直接的。</li>
<li>合理设置 HTTP缓存<br>　    缓存的力量是强大的，恰当的缓存设置可以大大的减少 HTTP请求。（这里需要说明的是，如果直接 F5刷新页面的话效果是不一样的，这种情况下请求数还是一样，不过被缓存资源的请求服务器是 304响应，只有 Header没有Body ，可以节省带宽 )<br>  那么怎样才算合理设置 ?原则很简单，能缓存越多越好，能缓存越久越好。例如，很少变化的图片资源可以直接通过 HTTP Header中的Expires设置一个很长的过期头 ;变化不频繁而又可能会变的资源可以使用 Last-Modifed来做请求验证。尽可能的让资源能够在缓存中待得更久。</li>
<li>Lazy Load Images<br>延迟加载图片，在移动端常用，因为流量比较贵，要一心想着为用户节省流量及提升用户的体验，这也是前端工程师的职责。这条策略实际上并不一定能减少 HTTP请求数，但是却能在某些条件下或者页面刚加载时减少HTTP请求数。对于图片而言，在页面刚加载的时候可以只加载第一屏，当用户继续往后滚屏的时候才加载后续的图片。这样一来，假如用户只对第一屏的内容感兴趣时，那剩余的图片请求就都节省了。也可理解为按需加载。</li>
<li>将外部脚本置底（将脚本内容在页面信息内容加载后再加载）<br>浏览器是可以并发请求的，这一特点使得其能够更快的加载资源，然而外链脚本在加载时却会阻塞其他资源，例如在脚本加载完成之前，它后面的图片、样式以及其他脚本都处于阻塞状态，直到脚本加载完成后才会开始加载。如果将脚本放在比较靠前的位置，则会影响整个页面的加载速度从而影响用户体验。最简单可依赖的方法就是将脚本尽可能的往后挪，减少对并发下载的影响。</li>
<li>异步执行 inline脚本(其实原理和上面是一样，保证脚本在页面内容后面加载。)<br>　　inline脚本对性能的影响与外部脚本相比，是有过之而无不及。首页，与外部脚本一样， inline脚本在执行的时候一样会阻塞并发请求，除此之外，由于浏览器在页面处理方面是单线程的，当 inline脚本在页面渲染之前执行时，页面的渲染工作则会被推迟。简而言之， inline脚本在执行的时候，页面处于空白状态。鉴于以上两点原因，建议将执行时间较长的 inline脚本异步执行，异步的方式有很多种，例如使用 script元素的defer属性(存在兼容性问题和其他一些问题，例如不能使用 document.write)、使用setTimeout ，此外，在HTML5中引入了 Web Workers的机制，恰恰可以解决此类问题。此条没有实践过，因为没写过行内js，当然也不建议写行内js。</li>
<li>Lazy Load Javascript（只有在需要加载的时候加载，在一般情况下并不加载信息内容。）<br>随着 Javascript框架的流行，越来越多的站点也使用起了框架。不过，一个框架往往包括了很多的功能实现，这些功能并不是每一个页面都需要的，如果下载了不需要的脚本则算得上是一种资源浪费 -既浪费了带宽又浪费了执行花费的时间。目前的做法大概有两种，一种是为那些流量特别大的页面专门定制一个专用的 mini版框架，另一种则是 Lazy Load。YUI 则使用了第二种方式，在 YUI的实现中，最初只加载核心模块，其他模块可以等到需要使用的时候才加载。<br>注：YUI 库，全称Yahoo! UI Library。是一组工具和控件，用JavaScript写成, 为的是用DOM 脚本，DHTML和AJAX等技术创建丰富的网页交互式应用程序。</li>
<li>将 CSS放在 HEAD中<br>　如果将 CSS放在其他地方比如 BODY中，则浏览器有可能还未下载和解析到 CSS就已经开始渲染页面了，这就导致页面由无 CSS状态跳转到 CSS状态，用户体验比较糟糕。除此之外，有些浏览器会在 CSS下载完成后才开始渲染页面，如果 CSS放在靠下的位置则会导致浏览器将渲染时间推迟。</li>
<li>避免重复的资源请求<br>　　这种情况主要是由于疏忽或页面由多个模块拼接而成，然后每个模块中请求了同样的资源时，会导致资源的重复请求 </li>
<li>js代码级优化<br>一是尽量减少dom操作。DOM操作应该是脚本中最耗性能的一类操作，例如增加、修改、删除 DOM元素或者对 DOM集合进行操作。二是 慎用with。三是 避免使用 eval和 Function。四是减少作用域链查找。五是字符串拼接：<br>在 Javascript中使用”+” 号来拼接字符串效率是比较低的，因为每次运行都会开辟新的内存并生成新的字符串变量，然后将拼接结果赋值给新变量。六是CSS选择符：#top a { color: #444; }。注意：浏览器对选择符的解析是从右往左进行的。如上面的选择符，浏览器必须遍历查找每一个a标签的祖先节点，看看哪个是#top然后再渲染，并不是我们想的那样从左往右进行渲染，当然效率并不像我们想象的那样高。</li>
<li>cdn加速<br>如果面试你上面的基本都说出来了，面试官还问你有什么牛比的优化方案没，你就来一句cdn加速啊,说实在的，你就是再怎么费劲吧次地优化，再怎么减少http请求，也不如直接弄个cdn快，cdn就是这么牛比，一线互联网公司都开启了cdn加速，要不打开网页速度嗖嗖的啊。</li>
</ol>
<p>上面的优化只是项目中比较常用的，当然还有其他一些常用的优化方案，最后啥也不说了，yahoo前端性能团队总结的35条黄金定律如下图：大家可以自行学习下<br><img src="http://oi28tswuq.bkt.clouddn.com/images/xingnengyouhua.png" alt=""></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web、性能优化/">web、性能优化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ES6-promise" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/05/ES6-promise/" class="article-date">
      <time datetime="2016-01-05T14:10:58.000Z" itemprop="datePublished">2016-01-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/05/ES6-promise/">ES6-promise学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="Promise的含义"><a href="#Promise的含义" class="headerlink" title="Promise的含义"></a>Promise的含义</h4><p>所谓Promise，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，Promise是一个对象，从它可以获取异步操作的消息。Promise提供统一的API，各种异步操作都可以用同样的方法进行处理。</p>
<h4 id="Promise对象有以下两个特点"><a href="#Promise对象有以下两个特点" class="headerlink" title="Promise对象有以下两个特点"></a>Promise对象有以下两个特点</h4><ol>
<li>对象的状态不受外界影响。<br>Promise对象代表一个异步操作，有三种状态：Pending（进行中）、Resolved（已完成，又称Fulfilled）和Rejected（已失败）。</li>
<li>一旦状态改变，就不会再变，任何时候都可以得到这个结果。<br>Promise对象的状态改变，只有两种可能：从Pending变为Resolved和从Pending变为Rejected。<h4 id="promise优缺点："><a href="#promise优缺点：" class="headerlink" title="promise优缺点："></a>promise优缺点：</h4>有了Promise对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数。此外，Promise对象提供统一的接口，使得控制异步操作更加容易。</li>
</ol>
<p>Promise也有一些缺点。首先，无法取消Promise，一旦新建它就会立即执行，无法中途取消。其次，如果不设置回调函数，Promise内部抛出的错误，不会反应到外部。第三，当处于Pending状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。</p>
<h4 id="基本用法："><a href="#基本用法：" class="headerlink" title="基本用法："></a>基本用法：</h4><p>ES6规定，Promise对象是一个构造函数，用来生成Promise实例。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var promise = new Promise(function(resolve, reject) &#123;</div><div class="line">  // ... some code</div><div class="line"></div><div class="line">  if (/* 异步操作成功 */)&#123;</div><div class="line">    resolve(value);</div><div class="line">  &#125; else &#123;</div><div class="line">    reject(error);</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>Promise构造函数接受一个函数作为参数，该函数的两个参数分别是resolve和reject。它们是两个函数，由JavaScript引擎提供，不用自己部署。<br>Promise实例生成以后，可以用then方法分别指定Resolved状态和Reject状态的回调函数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">promise.then(function(value) &#123;</div><div class="line">  // success</div><div class="line">&#125;, function(error) &#123;</div><div class="line">  // failure  失败的回调函数可以省略不写，是可选的。</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h4 id="Promise-prototype-then"><a href="#Promise-prototype-then" class="headerlink" title="Promise.prototype.then()"></a>Promise.prototype.then()</h4><p>then方法的第一个参数是Resolved状态的回调函数，第二个参数（可选）是Rejected状态的回调函数。<br>then方法返回的是一个新的Promise实例（注意，不是原来那个Promise实例）。因此可以采用链式写法，即then方法后面再调用另一个then方法。</p>
<h4 id="Promise-prototype-catch"><a href="#Promise-prototype-catch" class="headerlink" title="Promise.prototype.catch()"></a>Promise.prototype.catch()</h4><p>Promise.prototype.catch方法是.then(null, rejection)的别名，用于指定发生错误时的回调函数。</p>
<h4 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all()"></a>Promise.all()</h4><p> Promise.all方法用于将多个Promise实例，包装成一个新的Promise实例。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var p = Promise.all([p1, p2, p3]);</div></pre></td></tr></table></figure></p>
<h4 id="Promise-race"><a href="#Promise-race" class="headerlink" title="Promise.race()"></a>Promise.race()</h4><p> Promise.race方法同样是将多个Promise实例，包装成一个新的Promise实例。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var p = Promise.race([p1, p2, p3]);</div></pre></td></tr></table></figure></p>
<p> 上面代码中，只要p1、p2、p3之中有一个实例率先改变状态，p的状态就跟着改变。那个率先改变的 Promise实例的返回值，就传递给p的回调函数。</p>
<h4 id="Promise-resolve"><a href="#Promise-resolve" class="headerlink" title="Promise.resolve()"></a>Promise.resolve()</h4><p> 有时需要将现有对象转为Promise对象，Promise.resolve方法就起到这个作用。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var jsPromise = Promise.resolve($.ajax(&apos;/whatever.json&apos;));</div><div class="line">上面代码将jQuery生成的deferred对象，转为一个新的Promise对象。</div><div class="line"></div><div class="line">Promise.resolve等价于下面的写法。</div><div class="line">Promise.resolve(&apos;foo&apos;)</div><div class="line">// 等价于</div><div class="line">new Promise(resolve =&gt; resolve(&apos;foo&apos;))</div></pre></td></tr></table></figure></p>
<h4 id="Promise-reject"><a href="#Promise-reject" class="headerlink" title="Promise.reject()"></a>Promise.reject()</h4><p>Promise.reject(reason)方法也会返回一个新的Promise实例，该实例的状态为rejected。它的参数用法与Promise.resolve方法完全一致。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var p = Promise.reject(&apos;出错了&apos;);</div><div class="line">// 等同于</div><div class="line">var p = new Promise((resolve, reject) =&gt; reject(&apos;出错了&apos;))</div><div class="line"></div><div class="line">p.then(null, function (s)&#123;</div><div class="line">  console.log(s)</div><div class="line">&#125;);</div><div class="line">// 出错了</div></pre></td></tr></table></figure></p>
<p>上面代码生成一个Promise对象的实例p，状态为rejected，回调函数会立即执行。</p>
<h4 id="两个有用的附加方法"><a href="#两个有用的附加方法" class="headerlink" title="两个有用的附加方法"></a>两个有用的附加方法</h4><ol>
<li>done()<br>Promise对象的回调链，不管以then方法或catch方法结尾，要是最后一个方法抛出错误，都有可能无法捕捉到（因为Promise内部的错误不会冒泡到全局）。因此，我们可以提供一个done方法，总是处于回调链的尾端，保证抛出任何可能出现的错误。</li>
<li>finally()<br>finally方法用于指定不管Promise对象最后状态如何，都会执行的操作。</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ES6、promise/">ES6、promise</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-rap-strong" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/30/rap-strong/" class="article-date">
      <time datetime="2015-12-30T14:03:25.000Z" itemprop="datePublished">2015-12-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/30/rap-strong/">坚强-一首即将消失在网络上的rap</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="《坚强》Feat-ST-amp-苍狼-amp-韩歙敏-爆爆"><a href="#《坚强》Feat-ST-amp-苍狼-amp-韩歙敏-爆爆" class="headerlink" title="《坚强》Feat.ST&amp;苍狼&amp;韩歙敏(爆爆)"></a>《坚强》Feat.ST&amp;苍狼&amp;韩歙敏(爆爆)</h4><p>很早之前就很喜欢听，后来一段时间发现此歌要消声匿迹了，通过三个多小时的努力，我终于找到它了，所以保存下来以作记念。</p>
<p><iframe style="display:block; margin:0 auto;" height="200" width="610" src="http://player.youku.com/embed/XMTg5MTYwMDEyMA==" frameborder="0" 'allowfullscreen'=""></iframe></p>
<h2 id="歌词如下："><a href="#歌词如下：" class="headerlink" title="歌词如下："></a>歌词如下：</h2><p><strong>ST</strong><br>我开始忘了是否你又开始想了<br>曾经咱们一起追逐的那些梦想<br>记不清流了多少眼泪与汗水<br>不能忘记的是咱们艰辛与疲惫</p>
<p>回忆中的痛苦 决定你的胜负<br>眼神中的无助 决定了你的旅途<br>生活就是一遍一遍遍的重复<br>或许只是为了寻找一条新的出路</p>
<p>寂寞的时候找了一个人安慰<br>却没有想到会是一个红颜祸水<br>你害我伤痕累累神情疲惫<br>但是感谢你给我承受伤害的机会</p>
<p>我各种坚强任你随便的伤<br>生活的艰难阻挡不了我的狂妄<br>伤害的话说多了我也不想再说了<br>狂风暴雨扛起 这是我的肩膀</p>
<p><strong>韩歙敏(爆爆)</strong><br>浓重的迷雾堵住梦的路口<br>声丝力竭的声音喊不出口<br>握着安慰自己虚假的借口<br>默默接受这冰冷的渡口</p>
<p><strong>苍 狼</strong><br>有多少人为了梦想去奋斗<br>但面对残酷的现实却又不得不低头<br>又有多少人为了生活拼劲所有<br>但拼搏到最后却不知这一生何求</p>
<p>错过的感情已经无法再重来<br>就算再多的挽留都已经显得苍白<br>不在回忆过去只要把握住现在<br>努力去创造属于我自己的未来</p>
<p>我不是一个神我只是一个人<br>满身伤痕却无法看破滚滚红尘<br>只是渴望能够开启理想那道门<br>如今我却住进了现实这座坟</p>
<p>困难的生活我也不在感到迷茫<br>再多的创伤也无法将我去阻挡<br>只要心中充满希望跟信仰<br>风雨过后我们定能看见朝阳</p>
<p><strong>韩歙敏(爆爆)</strong><br>浓重的迷雾堵住梦的路口<br>声丝力竭的声音喊不出口<br>握着安慰自己虚假的借口<br>默默接受这冰冷的渡口</p>
<p><strong>A.J:</strong><br>我们说好的像飞蛾扑火一样不回头<br>我们曾失败过那时不堪回首<br>我们曾经失去的一切<br>我们曾经失去的感觉</p>
<p>我们渐渐的改变<br>慢慢的习惯 面对了太多的不愿<br>某天 当我再想起某一年<br>的那个誓言的那种感觉<br>就像是无数次的在我伤口上撒盐<br>忍着疼痛我还要继续向前</p>
<p>我在一点一点一步步的往前走<br>只有一个信念我不怕生命会有终点<br>这一切 要感谢那些陪伴我的人<br>让我的梦想直到今天都没有被磨灭</p>
<p>感谢 上天赋予我的生命<br>感谢 那些折磨让我的意志更加坚定<br>感谢 我自己 没有选择放弃<br>感谢 我们自己 直到今天还在努力</p>
<p><strong>韩歙敏(爆爆)</strong><br>浓重的迷雾堵住梦的路口<br>声丝力竭的声音喊不出口<br>握着安慰自己虚假的借口<br>默默接受这冰冷的渡口</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rap/">rap</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-rap-loverujia" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/26/rap-loverujia/" class="article-date">
      <time datetime="2015-12-26T09:10:37.000Z" itemprop="datePublished">2015-12-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/26/rap-loverujia/">爱你不是为了和你去如家-MV版</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>分享一首很久之前听过的说唱，希望大家能喜欢，希望大家有所感悟！</strong></p>
<iframe width="80%" height="498" src="http://player.youku.com/embed/XMzYxMzUzMzYw" frameborder="0" 'allowfullscreen'=""></iframe>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rap/">rap</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-iscroll" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/16/iscroll/" class="article-date">
      <time datetime="2015-12-16T04:41:23.000Z" itemprop="datePublished">2015-12-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/16/iscroll/">移动端遇到的坑-fixed不兼容</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="fixed不兼容，解决办法用iscroll-js"><a href="#fixed不兼容，解决办法用iscroll-js" class="headerlink" title="fixed不兼容，解决办法用iscroll.js"></a>fixed不兼容，解决办法用iscroll.js</h3><p>移动端大多数浏览器不兼容position:fixed，而pc端只有ie6不兼容position:fixed<br>在移动端开发中，使用position:fixed固定定位，很多手机支持不好，尤其是在定位的区域还需要输入内容调取虚拟键盘的时候会出现很多很多的问题<br>解决这个问题，就不能使用固定定位了，而是使用局部滚动处理（isScroll.js）<br>实现竖向局部滚动，需要把局部滚动的最外层容器的高度设定好。<br>实现横向局部滚动，需要把局部滚动的最外层容器的宽度设定好。<br>实现局部滚动：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var   实例=new IScroll（需要局部滚动的区域，&#123;参数配置&#125;）;</div></pre></td></tr></table></figure></p>
<p>初始化成功后，只对当前容器中的第一个子元素实现了滚动操作。<br>为了让滚动条只显示在局部滚动的区域，需要给局部滚动的最外层容器加上position:relative;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var myscroll=new IScroll(要实现局部滚动区域的类名，&#123;</div><div class="line">    scrollbars:true，</div><div class="line">    fadeScrollbars:true,//滚动时显示滚动条，否则滚动条隐藏。</div><div class="line">    mouseWheel:true,</div><div class="line">    bounce:false  //禁止运动到边界反弹。</div><div class="line">    click:true //为了防止滑动过程中的误操作，默认把点击事件关闭了，想让点击时需要开启。</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<ul>
<li>myScroll.refresh:当滚动区域的内容发生改变的时候,我们让当前的实例刷新一下,这样的话滚动区域的相关值都会跟着重新计算</li>
<li>myScroll.scrollToElement([ele],[time]):用多长的时间滚动到具体的某一个元素位置</li>
<li>myScroll.scrollTo(x,y,time):滚动到具体的坐标位置</li>
</ul>
<p>以上常用 ，下面的可以看文档了解学习下，毕竟艺多不压人，哈哈！！！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">options.useTransform     true</div><div class="line">options.useTransition      true</div><div class="line">options.HWCompositing  true</div><div class="line"></div><div class="line">options.bounce  true</div><div class="line">options.click  false</div><div class="line">options.mouseWheel  false</div><div class="line">options.scrollX、options.scrollY</div><div class="line"></div><div class="line">options.tap  element.addEventListener(&apos;tap&apos;, doSomething, false); \\ Native or tap: &apos;myCustomTapEvent&apos;</div><div class="line"></div><div class="line">scrollbars  flase</div><div class="line">fadeScrollbars  false</div><div class="line"></div><div class="line">myScroll.destroy();</div><div class="line">myScroll = null;</div></pre></td></tr></table></figure></p>
<p>beforeScrollStart，在用户触摸屏幕但还没有开始滚动时触发。<br>scrollCancel，滚动初始化完成，但没有执行。<br>scrollStart，开始滚动<br>scroll，内容滚动时触发，只有在scroll-probe.js版本中有效，请参考onScroll event。<br>scrollEnd，停止滚动时触发。<br>flick，用户打开左/右。<br>zoomStart，开始缩放。<br>zoomEnd，缩放结束。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/移动端、fixed/">移动端、fixed</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 Wenxi Yan
            </div>
            <div class="footer-right">
                <a href="http://webywx.com/" target="_blank">webywx</a>  Theme <a href="https://yanwenxi.site" target="_blank">前端在路上</a> by Scorpio
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >用户到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>